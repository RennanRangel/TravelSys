@model ProjetoHotelAviao.Models.Booking
@{
    ViewData["Title"] = "Ticket - Travel";
    var flight = Model.Flight;
}

@section Styles {
    <link rel="stylesheet" href="~/css/flight-booking.css">
    <link rel="stylesheet" href="~/css/flight-ticket.css">
}

<div class="main-container">
    
    <div class="breadcrumbs">
        <a href="@Url.Action("Index", "Flights")">Flights</a> <i class="fas fa-chevron-right"></i>
        <a href="@Url.Action("MyTickets", "Flights")">My Tickets</a> <i class="fas fa-chevron-right"></i>
        <span>Ticket #@Model.TicketNumber</span>
    </div>

    
    <div class="ticket-header-section">
        <div class="ticket-title">
            <h1>@flight?.Airline</h1>
            <div class="location-info">
                <i class="fas fa-map-marker-alt"></i>
                <span>@flight?.From → @flight?.To</span>
            </div>
        </div>
        <div class="ticket-actions">
            <span class="price">$@Model.TotalPrice.ToString("F2")</span>
            <div class="action-buttons">
                <button class="btn-icon"><i class="fas fa-share-alt"></i></button>
                <button class="btn-download">Download</button>
            </div>
        </div>
    </div>

    
    <div class="booking-confirmation" style="background: #d4edda; border-radius: 12px; padding: 16px 24px; margin-bottom: 24px; display: flex; align-items: center; gap: 12px;">
        <i class="fas fa-check-circle" style="color: #155724; font-size: 24px;"></i>
        <div>
            <strong style="color: #155724;">Booking Confirmed!</strong>
            <p style="margin: 0; color: #155724; opacity: 0.8;">Your ticket number is: @Model.TicketNumber</p>
        </div>
    </div>

    
    <div class="boarding-pass">
        
        <div class="pass-details">
            
            <div class="pass-header">
                <div class="pass-header-top">
                    <div class="passenger-profile">
                        <div class="profile-text">
                            <h3>@(Model.UserName ?? Model.UserEmail)</h3>
                            <span>Boarding Pass N'@Model.Id</span>
                        </div>
                    </div>
                    <span class="class-label">Economy</span>
                </div>

                <div class="pass-header-bottom">
                    <div class="flight-route-item">
                        <h2>@flight?.Departure</h2>
                        <span>@flight?.From</span>
                    </div>
                    <div class="flight-route-arrow">
                        <i class="fas fa-plane"></i>
                    </div>
                    <div class="flight-route-item">
                        <h2>@flight?.Arrival</h2>
                        <span>@flight?.To</span>
                    </div>
                </div>
            </div>

            
            <div class="pass-info-grid">
                <div class="info-item">
                    <div class="icon-box"><i class="far fa-calendar"></i></div>
                    <div class="info-text">
                        <span class="label">Booking Date</span>
                        <span class="value">@Model.BookingDate.ToString("dd MMM yyyy")</span>
                    </div>
                </div>
                <div class="info-item">
                    <div class="icon-box"><i class="far fa-clock"></i></div>
                    <div class="info-text">
                        <span class="label">Duration</span>
                        <span class="value">@flight?.Duration</span>
                    </div>
                </div>
                <div class="info-item">
                    <div class="icon-box"><i class="fas fa-door-open"></i></div>
                    <div class="info-text">
                        <span class="label">Gate</span>
                        <span class="value">@Model.Gate</span>
                    </div>
                </div>
                <div class="info-item">
                    <div class="icon-box"><i class="fas fa-chair"></i></div>
                    <div class="info-text">
                        <span class="label">Seat</span>
                        <span class="value">@Model.Seat</span>
                    </div>
                </div>
            </div>

            
            <div class="pass-footer">
                <div class="flight-code">
                    <h2>@(flight?.Airline?.Substring(0, Math.Min(2, flight.Airline.Length)).ToUpper() ?? "FL")</h2>
                    <span>@Model.TicketNumber</span>
                </div>
                <div class="barcode">
                    @for (int i = 0; i < 23; i++)
                    {
                        <div class="bar" style="width: @(new Random().Next(1, 6))px;"></div>
                    }
                </div>
            </div>
        </div>

        
        <div class="pass-map">
            <div class="map-placeholder">
                <i class="fas fa-plane" style="font-size: 48px; color: #8DD3BB;"></i>
                <p>@flight?.From → @flight?.To</p>
            </div>
        </div>
    </div>

    
    <div class="terms-section">
        <h2>Terms and Conditions</h2>

        <h3>Payments</h3>
        <ul>
            <li>If you are purchasing your ticket using a debit or credit card via the Website, we will process
                these payments via the automated secure common payment gateway which will be subject to fraud
                screening purposes.</li>
            <li>If you do not supply the correct card billing address and/or cardholder information, your booking
                will not be confirmed and the overall cost may increase.</li>
        </ul>

        <h3>Contact Us</h3>
        <p>If you have any questions about our Website, please contact us at <a href="#">travel.com/help</a></p>
    </div>
</div>
